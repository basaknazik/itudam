name: Otomatik GÃ¼ncelleme Robotu ğŸ¤–

# NE ZAMAN Ã‡ALIÅSIN?
on:
  # 1. Telefondan manuel tetikleme iÃ§in:
  workflow_dispatch:
  # 2. Otomatik (Ã–rn: Her 6 saatte bir):
  schedule:
    - cron: '0 */6 * * *'

# Ä°ZÄ°NLER (Siteyi gÃ¼ncellemesi iÃ§in gerekli)
permissions:
  contents: write

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      # 1. KodlarÄ± Ä°ndir
      - name: Depoyu Ã‡ek
        uses: actions/checkout@v3

      # 2. Python Kur
      - name: Python Kur
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'

      # 3. KÃ¼tÃ¼phaneleri YÃ¼kle (EÄŸer requests, beautifulsoup vs. kullanÄ±yorsan)
      - name: KÃ¼tÃ¼phaneleri YÃ¼kle
        run: |
          pip install requests
          pip install bs4
          
      # 4. Veriyi Ã‡ek (Bu senin scrape dosyan)
      - name: ğŸ”„ Verileri GÃ¼ncelle
        run: iturequestr.py

      # 5. Siteyi Ä°nÅŸa Et (Bu bizim HTML yapan kod)
      - name: ğŸ—ï¸ Siteyi OluÅŸtur
        run: python sitebuilder.py

      # 7. DeÄŸiÅŸiklikleri Kaydet ve GÃ¶nder (Push)
      - name: ğŸš€ DeÄŸiÅŸiklikleri Ä°ÅŸle
        run: |
          git config user.name "Otomatik Robot"
          git config user.email "actions@github.com"
          git add index.html dersler.json
          git commit -m "Ders programÄ± gÃ¼ncellendi: $(date)" || exit 0
          git push